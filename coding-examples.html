<!DOCTYPE html>
<html>

<head>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <title>Jasmine's Portfolio</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="prism/prism.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&family=Tangerine:wght@700&family=Work+Sans:wght@200&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/230fdafe42.js" crossorigin="anonymous"></script>
</head>

<body class="main-container">
    <nav class="main-nav">
        <div class="logo-container">
            <a href="index.html">
                <div class="logo">
                    <p>JH</p>
                </div>
            </a>
        </div>
        <ul>
            <li><a href="about.html">About me</a></li>
            <li><a href="index.html#project-section">My Portfolio</a></li>
            <li><a href="coding-examples.html">Coding Examples</a></li>
            <li><a href="scs.html">SCS Scheme</a></li>
            <li><a href="index.html#contact-section">Contact Me</a></li>
        </ul>
        <div class="social-media-links">
            <div class="social">
                <span><a href="https://github.com/piraspberry54" target="_blank">
                    <i class="fab fa-github"></i></a></span>
                <span><a href="https://www.linkedin.com/in/jasmine-howes-91b049193/" target="_blank">
                    <i class="fab fa-linkedin-in"></i></a></span>
            </div>
        </div>
    </nav>

    <nav class="top-nav">
        <div class="logo-container">
            <a href="index.html">
                <div class="logo">
                    <p>JH</p>
                </div>
            </a>
        </div>
        <ul>
            <li><a href="about.html">About me</a></li>
            <li><a href="index.html#project-section">My Portfolio</a></li>
            <li><a href="coding-examples.html">Coding Examples</a></li>
            <li><a href="scs.html">SCS Scheme</a></li>
            <li><a href="index.html#contact-section">Contact Me</a></li>
        </ul>
        <div class="exit-position">
            <div class="exit-button">
                <div class="x-container">
                    <img src="img/pngfind.com-x-png-1320307.png" height="30px">
                </div>
            </div>
        </div>
    </nav>

    <main>
        <div class="main-content">
            <div class="small-banner code">
                <div class="menu-position">
                    <div class="menu-btn">
                        <div class="burger-container">
                            <!-- burger lines -->
                            <span class="menu-burger"></span>
                        </div>
                        <span class="menu-title text-uppercase">MENU</span>
                    </div>
                </div>
                <h1>Coding examples</h1>
            </div>
            <div class="inner-container-two">
                <div class="code-content">
                    <pre><code class="language-javascript line-numbers">
                        // Global variables for use within the functions. In particular the regex function. 
                        const emailRegex = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))
                        @((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                        const phoneRegex = /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/;
                        //Function for the click button and used to go through each input field and check the validation.

                        $('.button').on('click', function() {
                            var wholeFormValid = true;
                            log("Submit button is pressed!");
                            wholeFormValid = validateField("firstname", "firstname-required-text");
                            wholeFormValid = validateField("surname", "surname-required-text") && wholeFormValid;
                            wholeFormValid = validateField("email", "email-required-text") && wholeFormValid;
                            wholeFormValid = checkAgainstRegex("email", emailRegex, "email-valid-text") && wholeFormValid;
                            wholeFormValid = checkAgainstRegex("phone", phoneRegex, "phone-valid-text") && wholeFormValid;
                            wholeFormValid = validateField("phone", "phone-required-text") && wholeFormValid;
                            wholeFormValid = validateField("subject", "subject-required-text") && wholeFormValid;
                            wholeFormValid = validateField("message", "message-required-text") && wholeFormValid;
                            // emailRegexCheck("email");
                            if (wholeFormValid) {
                                showAndHideThankYouMessage();
                                clearFields("firstname");
                                clearFields("surname");
                                clearFields("email");
                                clearFields("phone");
                                clearFields("subject");
                                clearFields("message");
                            }
                        });

                        //Function for validation. 
                        function validateField(fieldID, requiredTextID) {
                            log("Called validatedField()");
                            var fieldObject = $("#" + fieldID);
                            var requiredTextObject = $("#" + requiredTextID);
                            var fieldValue = fieldObject.val();
                            log("fieldValue = " + fieldValue);
                            if (fieldValue == "") {
                                log("Empty field");
                                fieldObject.css("border-color", "red");
                                requiredTextObject.css("display", "flex");
                                return false;
                            } else {
                                log("This field has a value");
                                fieldObject.css("border-color", "white");
                                requiredTextObject.css("display", "none");
                                return true;
                            }
                        }

                        // Function for email address and phone number regex.
                        function checkAgainstRegex(fieldID, regex, requiredTextID) {
                            var emailToCheck = $("#" + fieldID).val().toString();
                            var match = emailToCheck.match(regex);
                            var requiredTextObject = $("#" + requiredTextID);
                            // console.log("Just checking that the regexcheck function is actually being called and working", emailToCheck);
                            // console.log(match);
                            if (match !== null) {
                                console.log("This is a valid " + fieldID);
                                requiredTextObject.css("display", "none");
                                return true;
                            } else {
                                console.log("This isn't a valid " + fieldID);
                                requiredTextObject.css("display", "flex");
                                return false;
                            }
                        }

                        // Function for displaying the completed form text. 
                        function showAndHideThankYouMessage() {
                            $(".completedForm").fadeIn(2000).delay(3000).fadeOut(1000);
                        }

                        function clearFields(fieldID) {
                            // console.log("Placeholder for the clearFields function");
                            var fieldObject = $("#" + fieldID);
                            var fieldValue = fieldObject.val("");
                            // console.log(fieldObject);
                            // console.log(fieldValue);
                            // $("#firstname")
                        }

                        clearFields();

                        //Helper functions
                        function log(stringToLog) {
                            console.log(stringToLog);
                        }
                    </code></pre>
                </div>
            </div>
        </div>
    </main>
    <script src="prism/prism.js"></script>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/navigation.js"></script>
</body>

</html>